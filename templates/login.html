<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{ title }} - 政企智能舆情分析报告生成智能体应用系统</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='layui/css/layui.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>
<body>
    <div class="login-container">
        <!-- 
        <div class="login-header">
            <h1>政企智能舆情分析报告生成智能体应用系统</h1>
        </div>
        -->
        
        <div class="login-box">
            <div class="login-title">
                <h3>用户登录</h3>
                <p>请输入账号密码登录系统</p>
            </div>
            
            <form class="layui-form" action="{{ url_for('auth.login') }}" method="post">
                <div class="layui-form-item">
                    <div class="layui-input-wrap">
                        <div class="layui-input-prefix">
                            <i class="layui-icon layui-icon-username"></i>
                        </div>
                        <input type="text" name="username" value="" lay-verify="required" placeholder="请输入用户名" lay-reqtext="请填写用户名" autocomplete="off" class="layui-input" lay-affix="clear">
                    </div>
                </div>
                
                <div class="layui-form-item">
                    <div class="layui-input-wrap">
                        <div class="layui-input-prefix">
                            <i class="layui-icon layui-icon-password"></i>
                        </div>
                        <input type="password" name="password" value="" lay-verify="required" placeholder="......" lay-reqtext="请填写密码" autocomplete="off" class="layui-input" lay-affix="eye">
                    </div>
                    <div style="margin-top: 10px; text-align: right;">
                        <a href="javascript:;" style="color: #007BFF;">忘记密码？</a>
                    </div>
                </div>
                
                <div class="layui-form-item">
                    <input type="checkbox" name="remember" lay-skin="primary" title="记住我">
                </div>
                
                <div class="layui-form-item">
                    <button class="layui-btn layui-btn-fluid layui-btn-normal" lay-submit lay-filter="login">登录系统 →</button>
                </div>
                
                <!--
                <div class="login-oauth">
                    <fieldset class="layui-elem-field layui-field-title">
                        <legend>其他登录方式</legend>
                    </fieldset>
                    <div class="oauth-icons">
                        <a href="javascript:;"><i class="layui-icon layui-icon-login-wechat"></i></a>
                        <a href="javascript:;"><i class="layui-icon layui-icon-login-qq"></i></a>
                        <a href="javascript:;"><i class="layui-icon layui-icon-key"></i></a>
                    </div>
                </div>
                -->
            </form>
            
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <script>
                    window.onload = function() {
                        layui.use('layer', function(){
                            var layer = layui.layer;
                            {% for category, message in messages %}

                                layer.msg('{{ message }}', {icon: {% if category == 'error' %}2{% else %}1{% endif %}});
                            {% endfor %}
                        });
                    }
                    </script>
                {% endif %}
            {% endwith %}
        </div>
        
        <!--
        <div class="login-footer">
            <p><i class="layui-icon layui-icon-auz"></i> 本系统已通过国家信息安全等级保护三级认证，保障您的数据安全与隐私</p>
            <div class="copyright">
                © 2025 数据要素与舆情分析平台 版权所有 | 使用条款 | 隐私政策 | 联系我们
            </div>
        </div>
        -->
    </div>

    <script src="{{ url_for('static', filename='layui/layui.js') }}"></script>
    <script>
    layui.use(['form'], function(){
        var form = layui.form;
        
        // 提交事件
        form.on('submit(login)', function(data){
            // 此处可执行 loading 等操作
            return true;
        });
    });
    </script>
</body>
</html>
